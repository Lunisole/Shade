new entry "Shade_Smoke_Cover_B00001"
type "InterruptData"
data "DisplayName" "h82aefa8abcf24fa98e2bf68f8f5ed7d44gb0;1"
data "Description" "hf7f62c41e0c744be8797767d7f663e194b5d;3"
data "Icon" "ShadeSmokeCoverB00001"
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and HasInterruptedAttack() and not AnyEntityIsItem() and IsRerollInterruptInteresting(context.Source) and not InterruptHasDisadvantage()"
data "Properties" "SetDisadvantage();ApplyStatus(OBSERVER_TARGET,SMOKE_COVER_FOGCLOUD_200040,100,0)"
data "Cost" "ReactionActionPoint:1;CautiousSubterfugeRes:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "HasActionResource('CautiousSubterfugeRes', 1, 0, false, false, context.Source) and not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
data "EnableContext" "OnActionResourcesChanged;OnStatusApplied;OnStatusRemoved"

new entry "Shade_Gap_Close_B00002"
type "InterruptData"
data "DisplayName" "h65216c0b24fe4dbba914077b1f8fd662326e;1"
data "Description" "habbf6fa4e13141a2812a373b3787e7c2fg34;1"
data "Icon" "ShadeGapCloseB00002"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and Enemy(context.Source,context.Observer) and HasFunctor(StatsFunctorType.DealDamage) and IsHit() and not AnyEntityIsItem() and HasLastAttackTriggered()"
data "Properties" "UseSpell(OBSERVER_OBSERVER,Shade_Gap_Close_C00004,true,true,true)"
data "Cost" "ReactionActionPoint:1;CautiousSubterfugeRes:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "HasActionResource('CautiousSubterfugeRes', 1, 0, false, false, context.Source) and not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
data "EnableContext" "OnActionResourcesChanged;OnStatusApplied;OnStatusRemoved"

new entry "Shade_Mist_Of_Midnight_B00003"
type "InterruptData"
data "DisplayName" "h87e1abd92b684d08ae97b5f2ae5b86759278;1"
data "Description" "hd9290a17bbf8439da14461188cff4837c315;1"
data "Icon" "ShadeMistOfMidnightB00003"
data "InterruptContext" "OnPreDamage"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and IsAttack() and HasDamageEffectFlag(DamageFlags.Hit)"
data "Properties" "UseSpell(OBSERVER_OBSERVER,Shade_Mist_Of_Midnight_C00005,true,true,true);ApplyStatus(OBSERVER_OBSERVER,MIST_OF_MIDNIGHT_200039,100,1)"
data "Cost" "ReactionActionPoint:1;CautiousSubterfugeRes:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "HasActionResource('CautiousSubterfugeRes', 1, 0, false, false, context.Source) and not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
data "EnableContext" "OnActionResourcesChanged;OnStatusApplied;OnStatusRemoved"

new entry "KhainesHand_Retaliate_B20001"
type "InterruptData"
data "DisplayName" "haa6ad0f577814955ab6f640e60c0332181d0;1"
data "Description" "hdda13d5417294139ab4ac1c5b81ac2952c28;1"
data "DescriptionParams" "LevelMapValue(KhaineRetal)"
data "Icon" "KhainesHandRetaliateB20001"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and Enemy(context.Source,context.Observer) and IsMeleeAttack() and IsMiss() and not HasStatus('INVISIBILITY') and not AnyEntityIsItem() and not DistanceToEntityGreaterThan(2, context.ObserverPosition, context.Source) and HasLastAttackTriggered()"
data "Properties" "UseSpell(SWAP,KhainesHand_Retaliate_720002,true,true,true);ApplyStatus(OBSERVER_OBSERVER,INTERRUPT_RIPOSTE,100,0)"
data "Cost" "ReactionActionPoint:1;ViciousTrickeryRes:1"
data "InterruptDefaultValue" "Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER')  or HasStatus('SG_Disguise') and HasMeleeOffHand()"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"
